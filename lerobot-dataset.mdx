---
title: "LeRobot Dataset Format"
description: "Learn about the LeRobot dataset format: its structure, versions, how to use it, and common tips"
---

## What is the LeRobot Dataset Format?

The LeRobot Dataset format is a standard way to organize and store robot learning data, making it easy to use with tools like PyTorch and Hugging Face. You can load a dataset from the Hugging Face Hub or a local folder with a simple command like:

```python
dataset = LeRobotDataset("lerobot/aloha_static_coffee")
```

Once loaded, you can access individual data frames (like `dataset[0]`) which provide observations and actions as PyTorch tensors, ready for your model.

A special feature of `LeRobotDataset` is `delta_timestamps`. Instead of just getting one frame, you can get multiple frames based on their time relationship to the frame you asked for. For example, `delta_timestamps = {"observation.image": [-1, -0.5, -0.2, 0]}` will give you the current frame and three previous frames (from 1 second, 0.5 seconds, and 0.2 seconds before). This is great for giving your model a sense of history.

The format is designed to be flexible for different types of robot data, whether from simulations or real robots, focusing on camera images and robot states, but extendable to other sensor data.

## How is a LeRobot Dataset Organized on Disk?

A LeRobot Dataset is organized on disk into specific folders for data (Parquet files), videos (MP4 files), and metadata (JSON/JSONL files). Here's a typical structure for a `v2.1` dataset:

```
<dataset_name>/
├── data/
│   └── chunk-000/
│       ├── episode_000000.parquet
│       ├── episode_000001.parquet
│       └── ...
├── videos/
│   └── chunk-000/
│       ├── observation.images.main/
│       │   ├── episode_000000.mp4
│       │   └── ...
│       ├── observation.images.secondary_0/
│       │   ├── episode_000000.mp4
│       │   └── ...
│       └── ...
├── meta/
│   ├── info.json
│   ├── episodes.jsonl
│   ├── tasks.jsonl
│   ├── episodes_stats.jsonl
│   └── README.md
└── README.md
```

## What are the columns in a LeRobot Dataset?

The core data in a LeRobot dataset consists of Parquet files containing trajectory information (like robot states and actions) and MP4 video files for camera observations.

### Parquet Files

**Common features you'll find inside:**
- `observation.state` (list of numbers): Robot's state, like joint angles or end-effector position
- `action` (list of numbers): The action taken, like target joint angles
- `timestamp` (number): Time in seconds from the start of the episode
- `episode_index` (integer): ID for the episode
- `frame_index` (integer): ID for the frame within its episode (starts at 0 for each episode)
- `index` (integer): A unique ID for the frame across the entire dataset
- `next.done` (true/false, optional): True if this is the last frame of an episode
- `task_index` (integer, optional): Links to a task in `tasks.jsonl`

### Video Files

**Video storage:**
- Camera images are stored as MP4 videos to save space
- Each MP4 file is usually one camera's view for one full episode
- When loaded, videos are accessed using a `VideoFrame` object for each camera observation

```python
VideoFrame = {
    'path': 'path/to/video.mp4', 
    'timestamp': time_in_video_seconds
}
```

## What Information is Stored in the LeRobot Metadata Files?

LeRobot metadata files, found in the `meta/` directory, store crucial information about the dataset's structure, content, statistics, and individual episodes.

### info.json

Contains general information about the whole dataset:
- `codebase_version` (text): "v2.0" or "v2.1" - tells you how to read other metadata
- `robot_type` (text): What kind of robot was used
- `fps` (number): The intended frames-per-second of the data
- `total_episodes` (integer): How many episodes are in the dataset
- `total_frames` (integer): Total number of frames across all episodes
- `total_tasks` (integer): Number of different tasks defined

### episodes.jsonl

Each line is one episode with:
- `episode_index`: The unique ID for this episode
- `tasks`: List of task indices this episode belongs to
- `length`: Number of frames in this episode

### tasks.jsonl

Maps task descriptions to their indices:
- `task_index`: The ID of the task
- `task`: Description of what the robot should do

### episodes_stats.jsonl (v2.1)

Contains per-episode statistics:
- Mean, standard deviation, min, and max values for each feature (like actions and states)
- Used for normalizing data during training

## LeRobot Dataset Versions

LeRobot datasets have different versions (v1, v2, v2.1), with `v2.1` being the recommended version for most use cases. The version is specified in the `info.json` file under the `codebase_version` field.

### Differences Between LeRobot v2.0 and v2.1

**LeRobot v2.0 (Older):**
- Uses one file, `meta/stats.json`, to store statistics for the entire dataset
- Modifying the dataset (like deleting an episode) is not well-supported because updating global statistics is tricky

**LeRobot v2.1 (Recommended):**
- Uses `meta/episodes_stats.jsonl` instead of `stats.json`
- Stores statistics for each episode separately
- Makes it much easier to manage the dataset, like deleting, merging, or splitting episodes
- The `info.json` file will clearly state `codebase_version: "v2.1"`

**Recommendation:** Always try to use or convert datasets to `v2.1` for the best experience and support.

## Common Pitfalls and Best Practices

1. **Check `codebase_version`**: Make sure you know whether you're using v2.0 or v2.1
2. **Episode boundaries**: Understand that `episode_index` and `frame_index` restart for each episode
3. **Video paths**: When working locally, make sure video paths are correct
4. **Timestamps**: The `timestamp` field measures time from the start of the episode
5. **Action meaning**: Understand what your `action` field represents (joint positions, velocities, etc.)
6. **Memory usage**: Loading many high-resolution videos with `delta_timestamps` can use a lot of memory
7. **Custom data**: You can add your own observation or action types - just describe them in `info.json`

## How to Manipulate LeRobot Datasets

Common operations include:
- **Repairing**: Fixing inconsistencies in metadata files or re-indexing episodes
- **Merging**: Combining two or more LeRobot datasets into a single, larger dataset
- **Splitting**: Dividing a dataset into multiple smaller datasets (e.g., training and test sets)

## Next Steps

Now that you understand the LeRobot dataset format, you can:
1. **Record your own dataset** using Solo Robo tools
2. **Train AI models** on your recorded data
3. **Deploy and test** your trained models

Check out our [Recording](/record) and [Calibration](/calibrate) guides to get started with your own robot datasets.

